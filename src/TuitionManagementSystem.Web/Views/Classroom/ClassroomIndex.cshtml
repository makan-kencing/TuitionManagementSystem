@model IEnumerable<TuitionManagementSystem.Web.Features.Classroom.ClassroomResponse>
@{
    ViewData["Title"] = "Classrooms";
    var currentQ = ViewContext.HttpContext.Request.Query["q"].ToString();

}

<style>
    .row-changed {
        background-color: #fff8e1 !important;
        transition: background-color 0.3s ease;
    }

    .item-subtext {
        font-size: .85rem;
        color: #6c757d;
        margin-top: .25rem;
    }

    .table-sm th, .table-sm td { padding: .45rem .75rem; }

    .action-cell .action-buttons a { min-width: 64px; }
</style>

<div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="h3 mb-0 text-gray-800">Classrooms</h2>
    <a asp-action="Create" class="btn btn-primary">
        <i class="bi bi-plus-lg"></i> Create New
    </a>
</div>

<!-- Search form -->
<form method="get" asp-action="Index" id="searchForm" class="mb-3">
    <div class="input-group input-group-sm">
        <input id="searchInput" name="q" type="search" class="form-control" placeholder="Search location" value="@currentQ" />
        <button class="btn btn-outline-secondary" type="submit">Search</button>
        <button class="btn btn-light" type="button" onclick="document.getElementById('searchInput').value=''; document.getElementById('searchForm').submit();">Reset</button>
    </div>
</form>

<div class="card border-0 shadow-sm rounded-3">
    <div class="card-body p-0">
        <div class="table-responsive">
            <table class="table table-hover table-sm align-middle mb-0">
                <thead class="bg-light">
                <tr>
                    <th>Location</th>
                    <th>Max Capacity</th>
                    <th class="text-end">Actions</th>
                </tr>
                </thead>
                <tbody>
                @foreach (var c in Model)
                {
                    <tr>
                        <td class="ps-4 fw-bold text-dark">@c.Location</td>
                        <td>@c.MaxCapacity</td>
                        <td class="action-cell text-end">
                            <div class="d-flex align-items-center justify-content-end gap-2">
                                <div class="btn-group btn-group-sm action-buttons" role="group" aria-label="Actions">
                                    <a asp-action="Details" asp-route-id="@c.Id" class="btn btn-outline-secondary px-3">Details</a>
                                    <a asp-action="Edit" asp-route-id="@c.Id" class="btn btn-outline-secondary px-3">Edit</a>
                                </div>

                                <form asp-action="Delete" asp-route-id="@c.Id" method="post" class="d-inline">
                                    @Html.AntiForgeryToken()
                                    <button type="submit" class="btn btn-outline-danger px-3">Delete</button>
                                </form>
                            </div>
                        </td>
                    </tr>
                }
                </tbody>
            </table>
        </div>
    </div>
</div>
